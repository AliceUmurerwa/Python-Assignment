<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Live Visualization</title>
    <style>html,body{height:100%;margin:0;padding:0}</style>
  </head>
  <body>
    <iframe id="viz" src="visualization.html" style="width:100%;height:100vh;border:none;"></iframe>
    <script>
      let last = null;
      async function check(){
        try{
          const res = await fetch('visualization.html', {method:'HEAD', cache:'no-store'});
          const lm = res.headers.get('Last-Modified');
          if (last && lm && lm !== last) {
            document.getElementById('viz').src = 'visualization.html#' + Date.now();
          }
          last = lm;
        }catch(e){}
      }
      setInterval(check, 2000);
    </script>
  </body>
</html>